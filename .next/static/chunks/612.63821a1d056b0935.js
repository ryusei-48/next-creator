(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[612],{83612:function(e,a,t){"use strict";t.r(a),t.d(a,{CreateCkEditor:function(){return CreateCkEditor},default:function(){return CkEditor}});var l=t(76130),n=t(45084),c=t(91326),s=t.n(c);t(80014);var i=t(57083),r=t.n(i);function CkEditor(e){let{locales:a,defaultLang:t,localeLabels:c,titleInputRef:s,editorRef:i,mediaSelectDialog:o,descInputRef:d,setMediaInsertMode:g}=e,[u,p]=(0,n.useState)(t),h=!1;(0,n.useEffect)(()=>((async function(){!h&&window.matchMedia("(prefers-color-scheme: dark)").matches&&document.documentElement.classList.add("ck-theme-dark")})(),()=>{h=!0}),[]);let selectoMedia=()=>{o&&o.current&&(o.current.showModal(),g("ck"))};return(0,l.jsxs)("div",{className:r().ckeditor_wrapper,children:[(0,l.jsx)("div",{className:r().lang_tabs,children:a.length>1&&a.map((e,a)=>(0,l.jsx)("button",{className:"".concat(r().tab," ").concat(u===e&&r().selected),"data-lang":e,onClick:a=>{p(e)},children:c[t][e]},a))}),(0,l.jsx)("div",{className:r().editors,children:a.map((e,a)=>(0,l.jsxs)("div",{className:"".concat(r().instance," ").concat(u===e&&r().show),children:[(0,l.jsx)("input",{type:"text",placeholder:"記事タイトル",className:r().title,ref:a=>{s.current[e]=a}}),(0,l.jsx)(CreateCkEditor,{lang:e,editorRef:i,selectoMedia:selectoMedia}),(0,l.jsxs)("div",{className:r().description,children:[(0,l.jsx)("label",{htmlFor:"desc-text-".concat(a),children:"記事の説明・抜粋"}),(0,l.jsx)("textarea",{ref:a=>{d.current[e]=a},id:"desc-text-".concat(a),placeholder:"目安：スマホ７０文字、PC９０～１２０文字程度",onChange:e=>{var a;e.currentTarget.style.height="0",e.currentTarget.style.height="max( ".concat(e.currentTarget.scrollHeight,"px, 4em )");let t=e.currentTarget.value.length,l=null===(a=e.currentTarget.parentElement)||void 0===a?void 0:a.childNodes[2];l.textContent="文字数：".concat(t)}}),(0,l.jsx)("span",{className:r().text_count,children:"文字数：--"})]})]},a))})]})}function CreateCkEditor(e){let{lang:a,editorRef:t,selectoMedia:c}=e,i=(0,n.useRef)(null),o=(0,n.useRef)(null),d=!1;return(0,n.useEffect)(()=>((async function(){d||(s().create(i.current,{ui:{viewportOffset:{top:34,left:0,right:0,bottom:0}},placeholder:"ここに本文を入力",insertMedia:{mediaSelectModal:c},heading:{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"},{model:"heading4",view:"h4",title:"Heading 4",class:"ck-heading_heading4"},{model:"heading5",view:"h5",title:"Heading 5",class:"ck-heading_heading5"}]},fontSize:{options:["10px","11px","12px","13px","14px","15px","16px","17px","18px","default","19px","20px","21px","22px","24px","26px","28px","30px","34px","38px"],supportAllValues:!0},toolbar:{items:["heading","|","fontColor","fontBackgroundColor","findAndReplace","fontSize","bold","italic","link","insertBlogCard","bulletedList","numberedList","|","outdent","indent","|","imageUpload","imageInsert","insertMedia","blockQuote","insertTable","mediaEmbed","undo","redo","alignment","code","codeBlock","htmlEmbed","horizontalLine","highlight","removeFormat","selectAll","specialCharacters","strikethrough","subscript","superscript","todoList","captureBox","sourceEditing"],shouldNotGroupWhenFull:!0},wordCount:{onUpdate:e=>{let{characters:a}=e;o.current&&(o.current.textContent="文字数：".concat(a))}},simpleUpload:{uploadUrl:"".concat("http://ryuseiweb.localhost","/api/upload"),withCredentials:!1},updateSourceElementOnDestroy:!0,mediaEmbed:{previewsInData:!0},language:"ja",codeBlock:{languages:[{language:"plaintext",label:"Plain text",class:"language-plaintext Plain Text"},{language:"commandline",label:"Commandline",class:"language-plaintext Commandline"},{language:"shell",label:"Shell",class:"language-shell Shell"},{language:"c",label:"C",class:"language-c C"},{language:"c++",label:"C++",class:"language-c++ C++"},{language:"c#",label:"C#",class:"language-c# C#"},{language:"css",label:"CSS",class:"language-css CSS"},{language:"scss",label:"SCSS",class:"language-scss SCSS"},{language:"html",label:"HTML",class:"language-html HTML"},{language:"java",label:"Java",class:"language-java Java"},{language:"javascript",label:"JavaScript",class:"language-javascript JavaScript"},{language:"typescript",label:"TypeScript",class:"language-typescript TypeScript"},{language:"php",label:"PHP",class:"language-php PHP"},{language:"python",label:"Python",class:"language-python Python"},{language:"ruby",label:"Ruby",class:"language-ruby Ruby"},{language:"sql",label:"SQL",class:"language-sql SQL"},{language:"swift",label:"Swift",class:"language-swift Swift"},{language:"xml",label:"XML",class:"language-xml XML"}]},link:{decorators:{openInNewTab:{mode:"manual",label:"新規タブで開く",defaultValue:!0,attributes:{target:"_blank",rel:"noopener noreferrer"}},addClass:{mode:"manual",label:"カード表示",defaultValue:!1,attributes:{"data-type":"card"}}}}}).then(e=>{e.model.schema.extend("imageBlock",{allowAttributes:"loading"}),e.conversion.for("downcast").attributeToAttribute({model:"loading",view:"loading"}),e.conversion.for("downcast").add(e=>{e.on("insert:imageBlock",(e,a,t)=>{let l=t.mapper.toViewElement(a.item),n=l.getChild(0);t.writer.setAttribute("loading","lazy",n)})}),t.current[a]=e}),window.addEventListener("keydown",e=>{e.shiftKey&&e.ctrlKey&&"KeyQ"===e.code&&console.log(t.current[a].getData())}))})(),()=>{d=!0}),[]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{ref:i}),(0,l.jsx)("span",{ref:o,className:r().count,children:"文字数：--"})]})}},80014:function(){},57083:function(e){e.exports={ckeditor_wrapper:"ckeditor_ckeditor_wrapper__b1BYY",lang_tabs:"ckeditor_lang_tabs__0_cfG",tab:"ckeditor_tab__4WtJc",selected:"ckeditor_selected__A3PgH",editors:"ckeditor_editors__ltNFk",instance:"ckeditor_instance__3mUza",title:"ckeditor_title__IiuAz",count:"ckeditor_count__PKZZC",description:"ckeditor_description__PwsL7",text_count:"ckeditor_text_count__ZFM6j",show:"ckeditor_show__hJIok"}}}]);