(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[494],{21782:function(e,t,s){Promise.resolve().then(s.bind(s,6116)),Promise.resolve().then(s.bind(s,29674)),Promise.resolve().then(s.t.bind(s,88598,23)),Promise.resolve().then(s.t.bind(s,72850,23)),Promise.resolve().then(s.bind(s,60070)),Promise.resolve().then(s.bind(s,66964)),Promise.resolve().then(s.bind(s,27402)),Promise.resolve().then(s.bind(s,441)),Promise.resolve().then(s.bind(s,24853)),Promise.resolve().then(s.bind(s,55203)),Promise.resolve().then(s.bind(s,74647)),Promise.resolve().then(s.t.bind(s,8405,23)),Promise.resolve().then(s.t.bind(s,16139,23))},6116:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return Content}});var n=s(76130),i=s(45084),r=s(97385),o=s.n(r),d=s(83309),c=s.n(d),l=s(66717);function Content(e){let{useLang:t,defaultLang:s,locales:r,localeLabels:d}=e,[a,h]=(0,i.useState)(null),[_,m]=(0,i.useState)(!1),u=(0,i.useRef)(0),j=!1;function getPostList(){fetch("/api/post/get-many",{method:"POST",body:JSON.stringify({orderBy:[{register_date:"desc"}],take:20,skip:u.current})}).then(async e=>{if(e.ok){let i=await e.json(),r=[];for(let e of(u.current+=20,m(i.isNext),i.result)){var s;r.push((0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{className:c().thumb,children:(0,n.jsx)("span",{className:c().img_wrap,children:e.media?(0,n.jsx)("img",{src:"../../api/media-stream?w=800&id=".concat(null===(s=e.media)||void 0===s?void 0:s.id),loading:"lazy",alt:"サムネイル画像"}):(0,n.jsx)("span",{className:c().no_image,children:"No image"})})}),(0,n.jsxs)("td",{children:[e.title[t],e.description&&(0,n.jsx)("span",{className:c().description,children:e.description[t]})]}),(0,n.jsx)("td",{children:e.CategoryPost.map(e=>"".concat(e.category.name[t])).join(", ")}),(0,n.jsx)("td",{children:e.user.nameid}),(0,n.jsx)("td",{children:(0,l.ET)("y-m-d h:mi",e.register_date)}),(0,n.jsx)("td",{children:(0,l.ET)("y-m-d h:mi",e.update_date)}),(0,n.jsxs)("td",{children:[(0,n.jsx)(o(),{className:c().edit,href:"./post?mode=edit&id=".concat(e.id),children:"編集"}),(0,n.jsx)("button",{className:c().trash,children:"ゴミ箱へ"})]})]}))}h(e=>e?[...e,...r]:r)}})}return(0,i.useEffect)(()=>((async function(){j||getPostList()})(),()=>{j=!0}),[]),(0,n.jsxs)("div",{className:c().wrapper,children:[(0,n.jsx)("h2",{children:"投稿一覧"}),(0,n.jsxs)("div",{className:c().post_list_table,children:[(0,n.jsxs)("table",{children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"サムネイル"}),(0,n.jsx)("th",{children:"タイトル"}),(0,n.jsx)("th",{children:"カテゴリー"}),(0,n.jsx)("th",{children:"作成者"}),(0,n.jsx)("th",{children:"作成日時"}),(0,n.jsx)("th",{children:"更新日時"}),(0,n.jsx)("th",{children:"操作"})]})}),(0,n.jsx)("tbody",{children:a})]}),_&&(0,n.jsx)("div",{className:c().show_more,children:(0,n.jsx)("button",{onClick:()=>{getPostList()},children:"更に表示"})})]})]})}},83309:function(e){e.exports={wrapper:"content_wrapper__xLDsn",post_list_table:"content_post_list_table__Rt4HE",thumb:"content_thumb__2BINO",img_wrap:"content_img_wrap__KfYqf",no_image:"content_no_image__jT7iE",description:"content_description__OowH_",edit:"content_edit__A0ifR",trash:"content_trash__nQDev",show_more:"content_show_more__oPoNG"}}},function(e){e.O(0,[314,530,359,97,969,180,622,744],function(){return e(e.s=21782)}),_N_E=e.O()}]);