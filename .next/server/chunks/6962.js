"use strict";exports.id=6962,exports.ids=[6962],exports.modules={6962:(e,s,a)=>{a.d(s,{Y:()=>o});var r=a(9198),i=a(53524),l=a(67096),n=a.n(l);let t=new i.PrismaClient,o={debug:!1,session:{strategy:"jwt"},providers:[(0,r.Z)({name:"ログイン",credentials:{email:{label:"Email",type:"email",placeholder:"example@example.com"},password:{label:"Password",type:"password"}},async authorize(e){try{if(!e||""===e.email)return null;let s=await t.user.findUnique({where:{nameid:e.email}});if(s&&await n().compare(e.password,s.password))return{id:`${s.id}`,name:s.nameid,email:s.email,role:"admin"};return null}catch(e){return null}finally{await t.$disconnect()}}})],pages:{signIn:"/auth/login"},secret:process.env.NEXTAUTH_SECRET,callbacks:{jwt:async({token:e,user:s,account:a,profile:r,isNewUser:i})=>(s&&(e.user=s,e.role=s.role,e.id=s.id),a&&(e.accessToken=a.access_token),e),session:({session:e,token:s})=>(s.accessToken,{...e,user:{...e.user,role:s.role,id:s.id}})}}}};