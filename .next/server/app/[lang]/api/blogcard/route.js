"use strict";(()=>{var e={};e.id=7625,e.ids=[7625],e.modules={30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},56595:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>p,originalPathname:()=>m,requestAsyncStorage:()=>d,routeModule:()=>u,serverHooks:()=>c,staticGenerationAsyncStorage:()=>l,staticGenerationBailout:()=>g});var a={};r.r(a),r.d(a,{GET:()=>BlogCard,POST:()=>BlogCard}),r(52676);var o=r(30813),n=r(19361);let i=require("jsdom");var s=r(23284);async function BlogCard(e){let t=new URL(e.url).searchParams.get("url");if(!t||!t?.match(/https?:\/\/[\w!?/+\-_~;.,*&@#$%()'[\]]+/))return s.Z.json({message:"url param not found."},{status:401});try{let e=await fetch(t,{method:"GET",headers:{"user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/118.0.0.0 Safari/537.36"}});if(!e.ok)return s.Z.json({message:"fetch faild."},{status:401});{let r=new i.JSDOM(await e.arrayBuffer()),a=r.window.document.title,o=r.window.document.head.querySelector('meta[name="description"]');o=r.window.document.head.querySelector('meta[property="og:description"]');let n=r.window.document.head.querySelector('meta[property="og:image"]'),u=new URL(t),d=u.host;return s.Z.json({title:a,description:o?.getAttribute("content"),thumbnail:n?.getAttribute("content")||process.env.APP_URL+"/static-img/no-image.svg",icon:`http://www.google.com/s2/favicons?domain=${t}`,rootDmain:d,url:t},{status:200})}}catch(e){return s.Z.json({message:"other error.",e},{status:401})}}let u=new o.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/[lang]/api/blogcard/route",pathname:"/[lang]/api/blogcard",filename:"route",bundlePath:"app/[lang]/api/blogcard/route"},resolvedPagePath:"/var/www/next-creator/app/[lang]/api/blogcard/route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:d,staticGenerationAsyncStorage:l,serverHooks:c,headerHooks:p,staticGenerationBailout:g}=u,m="/[lang]/api/blogcard/route"}};var t=require("../../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[8807,8813,3284],()=>__webpack_exec__(56595));module.exports=r})();